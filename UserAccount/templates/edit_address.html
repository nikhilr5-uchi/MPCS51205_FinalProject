{% extends "home.html" %}

{% block content %}
    <div class="column is-4 is-offset-4">
        <h3 class="title">Edit Address</h3>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% for category, message in messages %}
                <div class="notification is-{{ category }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endwith %}

        <form method="POST" action="{{ url_for('main.save_address') }}">
            <!-- Assuming you have a 'user' variable available -->
            <div class="field">
                <label class="label">Current Address:</label>
                <p class="control">
                    <input class="input" type="text" name="current_address" value="{{ user.address }}" readonly>
                </p>
            </div>

            <!-- Include a hidden input field to capture the current address -->
            <input type="hidden" name="current_address" value="{{ user.address }}">

            <!-- Additional fields for the new address -->
            <div class="field">
                <label class="label">New Address:</label>
                <p class="control">
                    <input class="input" type="text" name="new_address" placeholder="Enter new address" required>
                </p>
            </div>

            <button type="submit" class="button is-primary">Save Address</button>
        </form>
    </div>
{% endblock %}
